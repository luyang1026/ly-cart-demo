webpackJsonp([2],{BJzq:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("3EgV"),i=n.n(r),o=n("Dd8w"),c=n.n(o),s=n("NYxO"),l={data:function(){return{dialog:!1,drawer:null,items:[{icon:"contacts",text:"产品列表",url:"/product-list"},{icon:"add_shopping_cart",text:"购物车",url:"/cart"}]}},computed:c()({},Object(s.c)(["cart"]),Object(s.b)(["cartCount","badgeShow"])),methods:{jumpTo:function(t){this.$router.push(t)}},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{fixed:"",clipped:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[t._l(t.items,function(e,a){return[e.heading?n("v-layout",{key:a,attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[e.heading?n("v-subheader",[t._v("\n              "+t._s(e.heading)+"\n            ")]):t._e()],1),t._v(" "),n("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):t._e(),t._v(" "),n("v-list-tile",{key:a,on:{click:function(n){t.jumpTo(e.url)}}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n              "+t._s(e.text)+"\n            ")])],1)],1)]})],2)],1),t._v(" "),n("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":"",fixed:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-3",style:t.$vuetify.breakpoint.smAndUp?"width: 300px; min-width: 250px":"min-width: 72px"},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("span",{staticClass:"hidden-xs-only"},[t._v("菜单")])],1),t._v(" "),n("div",{staticClass:"d-flex align-center pointer",staticStyle:{"margin-left":"auto"},on:{click:function(e){t.jumpTo("/cart")}}},[n("v-badge",{attrs:{left:"",overlap:"",color:"indigo"},model:{value:t.badgeShow,callback:function(e){t.badgeShow=e},expression:"badgeShow"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.cartCount))]),t._v(" "),n("v-icon",[t._v("shopping_cart")])],1)],1)],1),t._v(" "),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var d=n("VU/8")(l,u,!1,function(t){n("h9th")},null,null).exports,v=n("/ocq"),p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{staticClass:"wrap"},t._l(t.productList,function(e){return n("v-flex",{key:e.id,attrs:{xs3:""}},[n("v-card",[n("v-card-media",{attrs:{src:e.imgUrl,height:"200px"}}),t._v(" "),n("v-card-text",{staticClass:"px-0"},[t._v(t._s(e.name))]),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(n){t.addToCart(e)}}},[t._v("加入购物车")])],1)],1)],1)})),t._v(" "),n("v-alert",{staticClass:"alert",attrs:{color:"success",icon:"check_circle",value:t.alert}})],1)},staticRenderFns:[]};var f=n("VU/8")({mounted:function(){var t=this;this._api.getProdustList(function(e){t.productList=e})},data:function(){return{productList:[],alert:!1}},methods:{addToCart:function(t){this.$store.commit("addToChart",t)}}},p,!1,function(t){n("nJcT")},null,null).exports,h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full"},[n("v-list",{staticClass:"list"},[n("v-subheader",[t._v("购物车")]),t._v(" "),t._l(t.items,function(e){return n("v-list-tile",{key:e.title,attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.imgUrl}})]),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"indent",domProps:{innerHTML:t._s(e.name)}})],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(n){t.currentItem=e,t.dialog=!0}}},[n("v-icon",{attrs:{medium:"",color:"grey lighten-1"}},[t._v("delete")])],1)],1)],1)})],2),t._v(" "),n("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[t._v("确定删除此商品?")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("取消")]),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.deleteItem()}}},[t._v("确认")])],1)],1)],1)],1)},staticRenderFns:[]};var _=n("VU/8")({data:function(){return{dialog:!1,currentItem:null,items:this.$store.state.cart}},methods:{deleteItem:function(){this.$store.commit("deleteItem",this.currentItem.id),this.dialog=!1}},mounted:function(){}},h,!1,function(t){n("BJzq")},null,null).exports;a.a.use(v.a);var m=new v.a({routes:[{path:"/product-list",name:"product-list",component:f},{path:"/cart",name:"cart",component:_}]}),g=n("BO1k"),x=n.n(g);a.a.use(s.a);var b=new s.a.Store({state:{cart:[]},getters:{cartCount:function(t){return t.cart.length},badgeShow:function(t){return!!t.cart.length}},mutations:{addToChart:function(t,e){var n=t.cart,a=!0,r=!1,i=void 0;try{for(var o,c=x()(n);!(a=(o=c.next()).done);a=!0){var s=o.value;if(e.id===s.id)return}}catch(t){r=!0,i=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw i}}t.cart.push(e)},deleteItem:function(t,e){for(var n=t.cart,a=0;a<n.length;a++)n[a].id===e&&n.splice(a,1)}}}),w=n("mtWM"),k={getProdustList:function(t){w.get("http://localhost:8000/productList").then(function(e){200===e.status&&t(e.data)})}};a.a.use(i.a),n.e(0).then(n.bind(null,"7zck")),a.a.use(function(t){t.prototype._api=k}),a.a.config.productionTip=!1,new a.a({el:"#app",router:m,template:"<App/>",components:{App:d},store:b})},h9th:function(t,e){},nJcT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8d927bee79d205fc7b5b.js.map